[{"appcode":"function OnUpdate(doc, meta) {\n    const new_doc = {};\n    const address = {};\n    \n    new_doc['first_name'] = doc.first_name;\n    new_doc['last_name'] = doc.last_name;\n    new_doc['email'] = doc.email;\n    new_doc['phone'] = doc.phone;\n    new_doc['company_name'] = doc.company_name;\n    \n    address['street_address_1'] = doc.street_address_1;\n    address['street_address_2'] = doc.street_address_2;\n    address['city'] = doc.city;\n    address['state'] = doc.province;\n    address['zip_code'] = doc.postal_code;\n    \n    new_doc['billing_address'] = address;\n    new_doc['mailing_address'] = address;\n    dest_bkt[doc.email] = new_doc;\n    \n    // Delete original document\n    // delete sch2[meta.id];\n    \n    log(\"Doc created/updated\", meta.id);\n}\n\nfunction OnDelete(meta, options) {\n    log(\"Doc deleted/expired\", meta.id);\n}","depcfg":{"buckets":[{"alias":"sch2","bucket_name":"schema2","scope_name":"_default","collection_name":"_default","access":"rw"},{"alias":"dest_bkt","bucket_name":"customer","scope_name":"_default","collection_name":"_default","access":"rw"}],"source_bucket":"schema2","source_scope":"_default","source_collection":"_default","metadata_bucket":"eventing_merge","metadata_scope":"_default","metadata_collection":"_default"},"version":"evt-7.0.3-7031-ee","enforce_schema":false,"handleruuid":4198464252,"function_instance_id":"5s6zz2","appname":"schema2_merge","settings":{"dcp_stream_boundary":"everything","deployment_status":false,"description":"Transform schema2 into final contact JSON document","execution_timeout":60,"language_compatibility":"6.6.2","log_level":"INFO","n1ql_consistency":"none","num_timer_partitions":128,"processing_status":false,"timer_context_size":1024,"user_prefix":"eventing","worker_count":1}}]